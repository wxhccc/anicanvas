{"version":3,"file":"anicanvas.js","sources":["../../src/utils.js","../../src/core/Event.js","../../src/core/Media.js","../../src/core/sprite.js","../../src/core/BaseLayer.js","../../src/core/Stage.js","../../src/core/Sprite.js","../../src/core/Painter.js","../../src/core/CommonPainter.js","../../src/core/AnimationTimer.js","../../src/core/Behavior.js","../../src/core/MediaLoader.js","../../src/index.js"],"sourcesContent":["/*\n* 公共函数\n*/\n/* 创建dom元素 */\nexport function createHtmlElement(tag, attrs, styles){\n  let elem = document.createElement(tag);\n  isType(attrs, 'object') && Object.assign(elem, attrs);\n  isType(styles, 'object') && Object.assign(elem.style, styles);\n  return elem;\n}\n/* 创建dom元素 */\nexport function objectFilter(obj, keys, def){\n  let result = {};\n  isType(obj, 'object') && isType(keys, 'array') && keys.forEach(item => {\n    obj.hasOwnProperty(item) ? (result[item] = obj[item]) : (def && (result[item] = undefined));\n  })\n  return result;\n}\n/* 对象数组按某一键值排序 */\nexport function isType(value, type){\n  return (typeof type === 'string') ? Object.prototype.toString.call(value).toLowerCase() === `[object ${type.toLowerCase()}]` : null;\n}\n/* 判断变量是否是数字或数字字符串 */\nexport function isNumeric(obj) {  \n  return (isType(obj, 'number') || isType(obj, 'string')) && !isNaN( obj - parseFloat( obj ) );\n}\n/* json数据拷贝 */\nexport function jsonCopy(obj) {  \n  return JSON.parse(JSON.stringify(obj));\n}\n/* json数据对比 */\nexport function jsonEqual(obj1, obj2) {  \n  return JSON.stringify(obj1) === JSON.stringify(obj2);\n}\nexport function getUniqueTime(){\n  return Math.floor( (+new Date + Math.random()) * 1000 );\n}\n/* 对象数组按某一键值排序 */\nexport function objKeySort(obj_arr=[],key='',desc=false){\n  return obj_arr.sort((a,b)=>{\n    if(a[key] !== undefined && b[key] !== undefined){\n      if(a[key] < b[key]){\n        return desc ? 1 : -1;\n      }\n      else if(a[key] > b[key]){\n        return desc ? -1 : 1;\n      }\n      else {\n        return 0;\n      }\n    }\n    else {\n      return 0;\n    }\n  })\n}\n/* 角度转化弧度 */\nexport function deg2rad(deg){\n  return Math.PI/180*deg;\n}\n/* 三次贝塞尔曲线 */\nexport function cubicBezier(p1_x,p1_y,p2_x,p2_y){\n  var ax,bx,cx,ay,by,cy;\n  /*计算多项式系数*/\n  cx = 3.0 * (p1_x - 0);  \n  bx = 3.0 * (p2_x - p1_x) - cx;  \n  ax = 1 - 0 - cx - bx;  \n\n  cy = 3.0 * (p1_y - 0);  \n  by = 3.0 * (p2_y - p1_y) - cy;  \n  ay = 1 - 0 - cy - by;  \n  return function(x) {\n    let tSquared = x * x,\n        tCubed = tSquared * x;\n    return ay * tCubed + by * tSquared + cy * x;\n  }\n}\n/* 约等于函数 */\nexport function approximate(comp1,comp2,precision=0){\n  return Math.abs(comp1 - comp2) < Math.pow(10,precision);\n}\n/* 错误处理 */\nexport function errWarn(error) {\n  console.log(error);\n}","import {isType, getUniqueTime} from '../utils';\n/*\n* 事件类\n* \n*/\nexport default class Event {\n  static eventMap = {\n    click: {},\n    mouseenter: {},\n    mouseover: {},\n    mousemove: {},\n    mousedown: {},\n    mouseup: {},\n    click: {},\n    dblclick: {},\n    contextmenu: {},\n    wheel: {},\n    touchstart: {},\n    touchmove: {},\n    touchend: {}\n  };\n  constructor(){\n    this._isBindEvent = false;\n  }\n  on(eventName, childNames, listener) {\n    // if three arguments provided but childNames is not array ,not handle it\n    if(!Array.isArray(childNames) && listener) {\n      return;\n    }\n    let eventMap = Event.eventMap;\n    if(isType(childNames, 'function')){\n      listener = childNames;\n      childNames = null;\n    }\n    if(eventMap.hasOwnProperty(eventName) && isType(listener, 'function')){\n      !eventMap[eventName][this._id] && (eventMap[eventName][this._id] = {self: [], children: {}});\n      let callbacks = eventMap[eventName][this._id];\n      !listener._cbid && (listener._cbid = 'e' + getUniqueTime());\n\n      if(!childNames) {\n        let cbself = callbacks.self;\n        !cbself.find(item => (item._cbid === listener._cbid)) && cbself.push(listener);\n      }\n      else{\n        let cbchild = callbacks.children;\n        childNames.forEach(item =>{\n          if(!cbchild[item]) {\n            cbchild[item] = [listener];\n          }\n          else {\n            !cbchild[item].find(item =>(item._cbid === listener._cbid)) && cbchild[item].push(listener);\n          }\n        });\n      }\n      \n    }\n  }\n  off(eventName, childNames, listener) {\n    if(!Array.isArray(childNames) && listener) {\n      return;\n    }\n    let eventMap = Event.eventMap;\n    if(isType(childNames, 'function')){\n      listener = childNames;\n      childNames = null;\n    }\n    if(!eventMap.hasOwnProperty(eventName)){\n      return;\n    }\n    // if only eventName provide, remove all callbacks on this sprite\n    if(childNames === undefined && listener === undefined){\n      delete Event.eventMap[eventName][this._id];\n      return;\n    }\n    let callbacks = Event.eventMap[eventName][this._id];\n    if(!callbacks || !listener._cbid || (childNames !== null || !Array.isArray(childNames))){\n      return;\n    }\n    if(!childNames) {\n      let cbself = callbacks.self;\n      if(listener === undefined) {\n        cbself.self = [];\n      }\n      else if(listener && listener._cbid) {\n        let cbindex = cbself.findIndex(item => (item._cbid === listener._cbid));\n        cbindex >=0 && cbself.splice(cbindex, 1);\n      }\n    }\n    else{\n      let cbchild = callbacks.children;\n      if(listener === undefined) {\n        childNames.forEach(item => (delete cbchild[item]));\n      }\n      else if(listener && listener._cbid){\n        childNames.forEach(item =>{\n          let cbarr = cbchild[item];\n          if(cbarr && cbarr.length > 0) {\n            let cbindex = cbarr.findIndex(citem => (citem._cbid === listener._cbid));\n            cbindex >=0 && cbarr.splice(cbindex, 1);\n          }\n        });\n      }\n      \n    }\n\n\n\n    \n  }\n\n\n  // event capture, return the target sprite;\n  static eventCapture(stages, event){\n    for(let i = stages.length - 1; i >= 0; i--){\n      let {_stage, _ctx: context} = stages[i];\n      if(Event.searchTargetSprite(_stage, {event, context})){\n        break;\n      }\n    }\n  }\n  static searchTargetSprite(sprite, data){\n    let {children, _id}  = sprite,\n        {event, event: {offsetX: x, offsetY: y}, context} = data,\n        childLen = children.length;\n    if(sprite.isPointInpath({x, y}, context)) {\n      event.targetSprite = sprite;\n      if(childLen == 0) {\n        return true;\n      }\n      for(let i = childLen -1; i >= 0; i--){\n        if(Event.searchTargetSprite(children[i], data)){\n          return true;\n        }\n      }\n    }\n  }\n\n  static eventBubbling(event, spriteEvents){\n    let fnQueue = [],\n        {targetSprite} = event,\n        {_id, name, $parent} = targetSprite || {};\n    if(spriteEvents[_id] && spriteEvents[_id].self.length) {\n      fnQueue.push(...Event.runtimeBinding(spriteEvents[_id].self, targetSprite, event));\n    }\n    let parentSprite = $parent;\n    while(parentSprite){\n      if(!parentSprite._isBindEvent || spriteEvents[parentSprite._id]) {\n        parentSprite = parentSprite.$parent;\n        continue;\n      }\n      let spriteEvent = spriteEvents[parentSprite._id];\n      spriteEvent.self.length && fnQueue.push(...Event.runtimeBinding(spriteEvent.self, parentSprite, event));\n      let children = spriteEvent.children;\n      children && children[name] && fnQueue.push(...Event.runtimeBinding(children[name], parentSprite, event));\n      parentSprite = parentSprite.$parent;\n    }\n    return fnQueue;\n  }\n\n  static runtimeBinding(fns, sprite, event){\n    return fns.map(item => (item.bind(sprite, event)))\n  }\n\n}\n","/*\r\n* 媒体文件类，用于处理媒体对象的行为\r\n* \r\n*/\r\n\r\nexport default class Media {\r\n  constructor(){\r\n\r\n  }\r\n  play(name) {\r\n    this[name] && this[name].play && this[name].play();\r\n  }\r\n  pause(name) {\r\n    this[name] && this[name].pause && this[name].pause();\r\n  }\r\n}","import Event from './Event';\r\nimport Media from './Media';\r\nimport {isType, jsonEqual, isNumeric, objKeySort, getUniqueTime} from '../utils';\r\n/*\r\n* 精灵类，用于处理各种精灵对象的绘制和行为\r\n* \r\n*/\r\nconst relevantProps = {\r\n  top: 0, \r\n  left: 0,\r\n  width: 0, \r\n  height: 0,\r\n  velocityX: 0,\r\n  velocityY: 0,\r\n  rotateVelocity: 0,\r\n  rotate: 0,\r\n  opacity: 1,\r\n  visible: true,\r\n  animating: false,\r\n  zindex: 0,\r\n  destroy: false,\r\n  rotatePoint: {x: 0, y: 0}\r\n};\r\nexport default class Sprite extends Event {\r\n  _startTime = 0;\r\n  _autoRP = true;\r\n  needUpdate = false;\r\n  $data = {};\r\n  $media = new Media;\r\n  children = [];\r\n  constructor(name='',args={}, painter=null, behaviors={}){\r\n    super();\r\n    this.name = name;\r\n    this._id = 's' + getUniqueTime();\r\n    this._painter = painter;\r\n    this.behaviors = Array.isArray(behaviors) ? behaviors : [];\r\n    this.injectRelevantProps();\r\n    this.initArgs(args);\r\n  }\r\n  initArgs(args) {\r\n    Object.assign(this, args);\r\n    !this.needAutoRP && (this.rotatePoint = this._spriteRP())\r\n  }\r\n  get $path(){\r\n    return this._path;\r\n  }\r\n\r\n  injectRelevantProps(){\r\n    Object.keys(relevantProps).forEach(name => {\r\n      let oldValue = relevantProps[name];\r\n      let _this = this;\r\n      Object.defineProperty(this, name, {\r\n        enumerable: true,\r\n        configurable: true,\r\n        get: function(){\r\n          return oldValue;\r\n        },\r\n        set: function(newValue) {\r\n          _this.needAutoRP && _this._checkAutoRp(name, newValue);\r\n          if(newValue === oldValue || jsonEqual(newValue, oldValue)){\r\n            return;\r\n          }\r\n          oldValue = newValue;\r\n          _this.needAutoRP && _this._autoRotatePoint(name);\r\n          _this.needUpdate = true;\r\n        }\r\n      })\r\n    })\r\n  }\r\n  _checkAutoRp(name, newValue) {\r\n    if(name === 'rotatePoint' && isType(newValue, 'object')) {\r\n      !newValue.auto ? (this._autoRP = false) : delete newValue['auto'];\r\n    }\r\n  }\r\n  _autoRotatePoint(name){\r\n    if(!this.needAutoRP)\r\n      return;\r\n    if(!this._autoRP)\r\n      return;\r\n    if(['left', 'top', 'width', 'height'].indexOf(name) >=0){\r\n      this.rotatePoint = this._spriteRP(true);\r\n    }\r\n  }\r\n  _spriteRP(auto){\r\n    let point = {x: this.left + this.width / 2, y: this.top + this.height / 2};\r\n    auto && (point.auto = true);\r\n    return point;\r\n  }\r\n  /* 设置精灵路径 */\r\n  setPath(fn){\r\n    isType(fn, 'function') && (this._path = fn);\r\n  }\r\n  /* 检测左边是否在精灵路径内 */\r\n  isPointInpath = (positon = {}, context)=>{\r\n    let result = false;\r\n    let {x, y} = positon;\r\n    if(isNumeric(x) && isNumeric(y)) {\r\n      if(this._path && context) {\r\n        this._path(context);\r\n        result = context.isPointInPath(x, y);\r\n      }\r\n      else {\r\n        let {left, top, width, height} = this;\r\n        if(this.$parent) {\r\n          let {left: pleft, top: ptop} = this.$parent;\r\n          left += pleft;\r\n          top += ptop;\r\n        }\r\n        result = (x >= left && x <= left + width && y >= top && y <= top + height);\r\n      }\r\n    }\r\n    return result;\r\n  }\r\n  paint(context, time, fdelta, data) {\r\n    if(this._painter && this._painter.paint && this.visible){\r\n      let {left, top} = this.$parent || {left: 0, top: 0};\r\n      context.save();\r\n      context.translate(left, top);\r\n      this._painter.paint(this, context, time, fdelta, data);\r\n      context.restore();\r\n    }\r\n    this.children.length && this.children.forEach(i => (i.paint &&　i.paint(context, time, fdelta)));\r\n    this.needUpdate = false;\r\n  }\r\n  update(time, fdelta, data, context) {\r\n    !this._startTime && (this._startTime = time);\r\n    this._runBehaviors(time, fdelta, data, context);\r\n    this.children.length && this.children.forEach((i, index, arr) => {\r\n      i.destroy ? arr.splice(index, 1) : i.update(time, fdelta, data, context);\r\n    });\r\n    this.needUpdate && (context.isStatic = false);\r\n  }\r\n\r\n  /* 添加子元素，精灵或层 */\r\n  append(...child){\r\n    let { children } = this;\r\n    children.push(...child);\r\n    child.forEach(item => (item.$parent = this))\r\n    objKeySort(children, 'zindex');\r\n  }\r\n\r\n  addBehaviors(...behaviors) {\r\n    this._behaviorsSigned(behaviors);\r\n    this.behaviors.push(...behaviors);\r\n  }\r\n\r\n  _behaviorsSigned(behaviors) {\r\n    behaviors.forEach(item => {\r\n      !item._bid && (item._bid = +new Date());\r\n    })\r\n  }\r\n\r\n  _runBehaviors(time, fdelta, data, context) {\r\n    let {behaviors, _startTime} = this;\r\n    for(let behavior of behaviors){\r\n      if(behavior.delay){\r\n        if(time - _startTime - behavior.delay < 0){\r\n          continue;\r\n        }\r\n        time = time - _startTime - behavior.delay;\r\n      }\r\n      isType(behavior.execute, 'function') && behavior.execute(this, time, fdelta, data, context);\r\n    }\r\n  }\r\n\r\n}","import Sprite from './sprite';\r\n/*\r\n* 基础图层类，提供舞台内根精灵\r\n* \r\n*/\r\nexport default class BaseLayer extends Sprite {\r\n  constructor(name='', args={}){\r\n    super(`BASELAYER-${name}`, args);\r\n  }\r\n  paint(context, time, fdelta, data){\r\n    if(!context.isStatic) {\r\n      let {width, height} = this;\r\n      context.clearRect(0, 0, width, height);\r\n      super.paint(context, time, fdelta, data);\r\n    }\r\n  }\r\n}","import BaseLayer from './BaseLayer';\nimport {isType, isNumeric, createHtmlElement, objectFilter, errWarn} from '../utils';\n\nexport default class Stage {\n  _playing = true;\n  constructor(name, options) {\n    this.$canvas = this.elemInit(name, options);\n    this.resetOptions(options, true);\n    this.stageInit(name);\n    this.$layers = {};\n  }\n  resetOptions(options, fresh){\n    (fresh || !this._options) ? (this._options = Object.assign({}, options)) : Object.assign(this._options, options);\n    this.zIndex = this._options.zIndex || 0;\n  }\n  elemInit(name, options) {\n    let attrs = objectFilter(options, ['width', 'height']);\n    let styles = Object.assign({}, options, {position: 'absolute'});\n    let canvasEle = isType(name, 'string') ? createHtmlElement('canvas', attrs, styles) : name;\n    canvasEle = isType(canvasEle, 'HTMLCanvasElement') ? canvasEle : null;\n    canvasEle && (canvasEle.id = 'AC_' + name);\n    return canvasEle;\n  }\n  stageInit(name) {\n    let args = objectFilter(this._options, ['width', 'height']);\n    this._stage = new BaseLayer(name, args);\n    if(this.$canvas){\n      this._ctx = this.$canvas.getContext('2d');\n    }\n    else {\n      errWarn('no accessable canvas element!');\n    }\n  }\n  update = (elapsed, fdelta, data) => {\n    let context = this._ctx;\n    context.isStatic = true;\n    if(this._playing) {\n      this._stage.update(elapsed, fdelta, data, context);\n      this._stage.paint(context, elapsed, fdelta, data);\n    }\n  }\n  play(){\n    this._playing = true;\n  }\n  pause() {\n    this._playing = false;\n  }\n  setCanvasSize() {\n    let {width, height} = this._options;\n    if(isNumeric(width) && isNumeric(height)) {\n      Object.assign(this.$canvas, {width, height});\n    }\n  }\n  \n  append = (...child) => {\n    this._stage.append(...child);\n  }\n  resize() {\n    this.setCanvasSize();\n  }\n\n}","import Event from './Event';\r\nimport Media from './Media';\r\nimport {isType, jsonEqual, isNumeric, objKeySort, getUniqueTime} from '../utils';\r\n/*\r\n* 精灵类，用于处理各种精灵对象的绘制和行为\r\n* \r\n*/\r\nconst relevantProps = {\r\n  top: 0, \r\n  left: 0,\r\n  width: 0, \r\n  height: 0,\r\n  velocityX: 0,\r\n  velocityY: 0,\r\n  rotateVelocity: 0,\r\n  rotate: 0,\r\n  opacity: 1,\r\n  visible: true,\r\n  animating: false,\r\n  zindex: 0,\r\n  destroy: false,\r\n  rotatePoint: {x: 0, y: 0}\r\n};\r\nexport default class Sprite extends Event {\r\n  _startTime = 0;\r\n  _autoRP = true;\r\n  needUpdate = false;\r\n  $data = {};\r\n  $media = new Media;\r\n  children = [];\r\n  constructor(name='',args={}, painter=null, behaviors={}){\r\n    super();\r\n    this.name = name;\r\n    this._id = 's' + getUniqueTime();\r\n    this._painter = painter;\r\n    this.behaviors = Array.isArray(behaviors) ? behaviors : [];\r\n    this.injectRelevantProps();\r\n    this.initArgs(args);\r\n  }\r\n  initArgs(args) {\r\n    Object.assign(this, args);\r\n    !this.needAutoRP && (this.rotatePoint = this._spriteRP())\r\n  }\r\n  get $path(){\r\n    return this._path;\r\n  }\r\n\r\n  injectRelevantProps(){\r\n    Object.keys(relevantProps).forEach(name => {\r\n      let oldValue = relevantProps[name];\r\n      let _this = this;\r\n      Object.defineProperty(this, name, {\r\n        enumerable: true,\r\n        configurable: true,\r\n        get: function(){\r\n          return oldValue;\r\n        },\r\n        set: function(newValue) {\r\n          _this.needAutoRP && _this._checkAutoRp(name, newValue);\r\n          if(newValue === oldValue || jsonEqual(newValue, oldValue)){\r\n            return;\r\n          }\r\n          oldValue = newValue;\r\n          _this.needAutoRP && _this._autoRotatePoint(name);\r\n          _this.needUpdate = true;\r\n        }\r\n      })\r\n    })\r\n  }\r\n  _checkAutoRp(name, newValue) {\r\n    if(name === 'rotatePoint' && isType(newValue, 'object')) {\r\n      !newValue.auto ? (this._autoRP = false) : delete newValue['auto'];\r\n    }\r\n  }\r\n  _autoRotatePoint(name){\r\n    if(!this.needAutoRP)\r\n      return;\r\n    if(!this._autoRP)\r\n      return;\r\n    if(['left', 'top', 'width', 'height'].indexOf(name) >=0){\r\n      this.rotatePoint = this._spriteRP(true);\r\n    }\r\n  }\r\n  _spriteRP(auto){\r\n    let point = {x: this.left + this.width / 2, y: this.top + this.height / 2};\r\n    auto && (point.auto = true);\r\n    return point;\r\n  }\r\n  /* 设置精灵路径 */\r\n  setPath(fn){\r\n    isType(fn, 'function') && (this._path = fn);\r\n  }\r\n  /* 检测左边是否在精灵路径内 */\r\n  isPointInpath = (positon = {}, context)=>{\r\n    let result = false;\r\n    let {x, y} = positon;\r\n    if(isNumeric(x) && isNumeric(y)) {\r\n      if(this._path && context) {\r\n        this._path(context);\r\n        result = context.isPointInPath(x, y);\r\n      }\r\n      else {\r\n        let {left, top, width, height} = this;\r\n        if(this.$parent) {\r\n          let {left: pleft, top: ptop} = this.$parent;\r\n          left += pleft;\r\n          top += ptop;\r\n        }\r\n        result = (x >= left && x <= left + width && y >= top && y <= top + height);\r\n      }\r\n    }\r\n    return result;\r\n  }\r\n  paint(context, time, fdelta, data) {\r\n    if(this._painter && this._painter.paint && this.visible){\r\n      let {left, top} = this.$parent || {left: 0, top: 0};\r\n      context.save();\r\n      context.translate(left, top);\r\n      this._painter.paint(this, context, time, fdelta, data);\r\n      context.restore();\r\n    }\r\n    this.children.length && this.children.forEach(i => (i.paint &&　i.paint(context, time, fdelta)));\r\n    this.needUpdate = false;\r\n  }\r\n  update(time, fdelta, data, context) {\r\n    !this._startTime && (this._startTime = time);\r\n    this._runBehaviors(time, fdelta, data, context);\r\n    this.children.length && this.children.forEach((i, index, arr) => {\r\n      i.destroy ? arr.splice(index, 1) : i.update(time, fdelta, data, context);\r\n    });\r\n    this.needUpdate && (context.isStatic = false);\r\n  }\r\n\r\n  /* 添加子元素，精灵或层 */\r\n  append(...child){\r\n    let { children } = this;\r\n    children.push(...child);\r\n    child.forEach(item => (item.$parent = this))\r\n    objKeySort(children, 'zindex');\r\n  }\r\n\r\n  addBehaviors(...behaviors) {\r\n    this._behaviorsSigned(behaviors);\r\n    this.behaviors.push(...behaviors);\r\n  }\r\n\r\n  _behaviorsSigned(behaviors) {\r\n    behaviors.forEach(item => {\r\n      !item._bid && (item._bid = +new Date());\r\n    })\r\n  }\r\n\r\n  _runBehaviors(time, fdelta, data, context) {\r\n    let {behaviors, _startTime} = this;\r\n    for(let behavior of behaviors){\r\n      if(behavior.delay){\r\n        if(time - _startTime - behavior.delay < 0){\r\n          continue;\r\n        }\r\n        time = time - _startTime - behavior.delay;\r\n      }\r\n      isType(behavior.execute, 'function') && behavior.execute(this, time, fdelta, data, context);\r\n    }\r\n  }\r\n\r\n}","import {isType, deg2rad} from '../utils';\n/*\n* 绘制器基础类，用于提供基础的绘制器逻辑方便扩展\n* \n*/\nexport default class Painter {\n  constructor(paint){\n    this.image = null;\n    this.paint_queue = [];\n    this.photo = null;\n    isType(paint, 'function') && (this.paint = paint.bind(this));\n  }\n  paint(sprite,context,time,fdelta,data) {\n    \n  }\n  addQueueFn(fn){\n    let add_fn = isType(fn, 'function') ? fn : (isType(this[fn], 'function') ? this[fn] : null);\n    add_fn && this.paint_queue.push(add_fn);\n  }\n  clearQueue(){\n    this.paint_queue = [];\n  }\n  runQueue(sprite,context,time,fdelta,data){\n    let queue = this.paint_queue;\n    for(let i=0; i < queue.length; i++){\n      queue[i](sprite,context,time,fdelta,data);\n    }\n  }\n  _setSelfStyles(sprite,context) {\n    if(sprite.opacity < 1){\n      context.globalAlpha = sprite.opacity > 0 ? sprite.opacity : 0;\n    }\n  }\n  rotate(sprite,context,time,fdelta,data){\n    context.translate(sprite.rotatePoint.x, sprite.rotatePoint.y);\n    context.rotate(deg2rad(sprite.rotate));\n    sprite.left = - sprite.width / 2;\n    sprite.top = - sprite.height / 2;\n  }\n  getPhoto(sprite,context) {\n    sprite.$data.photo = context.getImageData(sprite.left, sprite.top, sprite.width, sprite.height);\n  }\n  putPhoto(sprite,context) {\n    context.putImageData(sprite.$data.photo, sprite.left, sprite.top);\n  }\n}\n","import Painter from './Painter'\n\n/*图片绘画类\n*\n*\n*/\nexport class ImagePainter extends Painter{\n  /*\n  * @param img 图片\n  * @param set 绘制图片的参数\n  */\n  constructor(img = null, set){\n    super();\n    this.image = img;\n    this.imgSet = set ? set : {x: 0, y: 0, w: img && img.width, h: img && img.height};\n  }\n  paint(sprite, context, time, fdelta, data) {\n    if(this.image) {\n      context.save();\n      let spriteCopy = Object.assign({}, sprite);\n      this._setSelfStyles(spriteCopy, context);\n      this.runQueue(spriteCopy, context, time, fdelta, data);\n      let imgSet = this.imgSet;\n      \n      context.drawImage(this.image, imgSet.x, imgSet.y, imgSet.w, imgSet.h, spriteCopy.left, spriteCopy.top, spriteCopy.width, spriteCopy.height);\n      context.restore();\n    }\n  }\n  \n}\n/*精灵绘画类\n*\n*\n*/\nexport class SheetPainter extends Painter{\n  /*\n  * @param img 图片\n  * @param set 绘制图片的参数\n  */\n  constructor(img,cells,{interval = 1000,autoruning = false,iteration = 1,reverse = false}){\n    super();\n    this.image = img;\n    this.cells = cells;\n    this.reverse = reverse;\n    this.cell_index = reverse ? (this.cells.length - 1) : 0;\n    this.interval = interval;\n    this.running = autoruning ? true : false;\n    this.frame_point = 0;\n    this.timeline = 0;\n    this.iteration = iteration == 'infinite' ? iteration : parseInt(iteration);\n    this._countFramePoint(this.cell_index);\n  }\n  /*索引递增/递减*/\n  advance() {\n    if(this.reverse ? (this.cell_index == 1) : (this.cell_index == this.cells.length-2)){\n      this.frame_point = this.timeline = 0;\n      Number.isInteger(this.iteration) && this.iteration--;\n    }\n    this.reverse ? (this.cell_index += this.cells.length - 1) : this.cell_index ++;\n    this.cell_index %= this.cells.length;\n    this._countFramePoint(this.cell_index);\n    \n  }\n  /*关键帧时间点计算*/\n  _countFramePoint(index){\n    let next_index = (this.reverse ? (index + this.cells.length - 1) : index + 1) % this.cells.length;\n    this.frame_point += this._sValue(this.cells[next_index].interval,this.interval);\n  }\n  /*跳帧*/\n  skip(frame_index){\n    this.cell_index = frame_index % this.cells.length;\n  }\n  paint(sprite,context,time,fdelta,data) {\n    if(this.running){\n      if(this.iteration > 0 || this.iteration == 'infinite'){\n        if(this.timeline >= this.frame_point ){\n          this.advance();\n        }\n      }\n      let cell = this.cells[this.cell_index],\n        sheet_img = cell.img ? this.image[cell.img] : this.image,\n        sv = this._sValue;\n      context.save();\n      context.drawImage(sheet_img,cell.x,cell.y,cell.w,cell.h,sv(cell.sl,sprite.left),sv(cell.st,sprite.top),sv(cell.sw,sprite.width),sv(cell.sh,sprite.height));\n      \n      this.timeline += fdelta;\n      //console.log(this.timeline,this.frame_point)\n      context.restore();\n    }\n  }\n  /*获取有效值*/\n  _sValue(cell_val,sprite_val) {\n    return Number.isFinite(cell_val) ? cell_val : sprite_val;\n  }\n  \n}","import { isType } from '../utils';\n/*\n* 动画时间控制器类，用于提供与动画时间播放相关的功能\n* \n*/\nexport default class AnimationTimer {\n  constructor(animation){\n    this._animation = isType(animation, 'function') ? animation : function(){};\n    this.startTime = 0;\n    this.lastTime = 0;\n    this.running = false;\n    this._playing = false;\n    this.time = 0;\n    this.elapsed = 0;\n    this.frameRate = 0;\n    this._lastFRupdate = 0;\n    this._animHandle = null;\n  }\n  updateFrameRate(elapsed, time){\n    if(elapsed - this._lastFRupdate > 1000) {\n      this._lastFRupdate = elapsed;\n      this.frameRate = Math.round(1000 / time);\n    }\n  }\n\n  start() {\n    if(!this.running) {\n      this.startTime = +new Date();\n      this.running = true;\n      this.play();\n      let animation = (time) => {\n        if(this._playing){\n          !this.lastTime && (this.lastTime = time);\n          this.time = time - this.lastTime;\n          this.elapsed += this.time;\n          this.lastTime = time;\n          this.updateFrameRate(this.elapsed, this.time);\n          this._animation(this.elapsed, this.time);\n        }\n        this._animHandle = window.requestAnimationFrame(animation);\n      }\n      this._animHandle = window.requestAnimationFrame(animation);\n    }\n  }\n  play() {\n    this._playing = true;\n  }\n  pause() {\n    this.lastTime = 0;\n    this.frameRate = 0;\n    this._playing = false;\n  }\n  stop() {\n    this.elapsed = (+new Date()) - this.startTime;\n    this.running = false;\n    this.frameRate = 0;\n    window.cancelAnimationFrame(this._animHandle);\n  }\n  getElapsedTime(){\n    if(this.running){\n      return (+new Date()) - this.startTime;\n    }\n    else{\n      return this.elapsed;\n    }\n  }\n  getRuningTime(){\n    return this.time;\n  }\n  getNextTime() {\n    let trueTime = this.time,\n        percentComplete = trueTime / this.duration;\n    if(!this.running) return undefined;\n    if(this.timeWrap == undefined) return elapsedTime;\n    return elapsedTime * (this.timeWarp(percentComplete) / percentComplete);\n  }\n  isRunning() {\n    return this.running;\n  }\n  reset(){\n    this.elapsed = 0;\n  }\n  static getWarpTime(warp_fn,time,duration){\n    if(typeof warp_fn == 'function'){\n      let percent = time/duration;\n      return time * warp_fn(percent)/percent;\n    }\n  }\n  /*基础事件控制函数*/\n  static easeIn(strength){\n    return function(percent_complete){\n      return Math.pow(percent_complete,strength*2);\n    }\n  }\n  static easeOut(strength){\n    return function(percent_complete){\n      return 1 - Math.pow(1 - percent_complete,strength*2);\n    }\n  }\n  static easeInOut(){\n    return function(percent_complete){\n      return percent_complete - Math.sin(percent_complete*2*Math.PI) / (2*Math.PI);\n    }\n  }\n  static elastic(passes) {\n    passes = passes || this.def_opts.elastic_passes;\n    return function (percent_complete){\n      return ((1-Math.cos(percent_complete*Math.PI*passes)) * (1 - percent_complete))+percent_complete;\n    }\n  }\n  static bounce(bounces) {\n    let fn = AnimationTimer.elastic(bounces);\n    return function() {\n      percent_complete = fn(percent_complete);\n      return percent_complete <= 1 ? percent_complete : 2 - percent_complete;\n    }\n  }\n  static linear() {\n    return function(percent_complete){\n      return percent_complete;\n    }\n  }\n  static step() {\n    return function(percent_complete){\n      return percent_complete;\n    }\n  }\n}","import AnimationTimer from './AnimationTimer';\nimport {isType, jsonCopy, isNumeric} from '../utils';\n/*\n* 动画时间控制器类，用于提供与动画时间播放相关的功能\n* \n*/\nexport default class Behavior {\n  constructor(args, execute){\n    let defArgs = {\n      firstFn : null,  //行为首次运行时运行的函数\n      animation : null,   //动画行为对象\n      iteration : 1,  //行为运行次数\n      timing : null,   //时间函数,\n      fillMode: null  //时间结束后样式\n    };\n    Object.assign(this, defArgs, args);\n    /*此部分为精灵行为基础属性*/\n    // 确认行为执行函数\n    this.executeFn = isType(execute, 'function') ? execute : ( this.animation ? this._attrChange : function(){});\n    // 确定时间轴函数\n    this.timing = isType(this.timing, 'function') ? this.timing : (isType(AnimationTimer[this.timing], 'function') ? AnimationTimer[this.timing](this.timingArgs) : null);\n    this.firstFn = isType(this.firstFn, 'function') ? this.firstFn : ()=>{}; // 行为首次运行函数\n    this._firstRun = false;      // 精灵行为首次运行标记\n    this._iterationCount = 0;    // 行为已重复运行次数\n    this._spriteAttrs = {};      // 精灵初始属性记录对象\n    /*以下为精灵动画行为专属属性*/\n    this._animaProps = this._animaInitProps();  \n    this._animaRuntime = null;   //动画运行环境数据\n    /*初始化函数*/\n  }\n  _animaInitProps(){\n    return {         //动画初始属性\n      velocity : {left:0, top:0, rotate:0, width:0, height:0, opacity:0, rotate:0},  //支持的动画属性\n      lastFrame : 0,             //上一帧时间点\n      frameDuration : 0,         //关键帧间隔\n      framesTime :[]             //运行中的帧时间点\n    };\n  }\n  execute(sprite, time, fdelta, data, context){\n    /*单次执行，用于计算初始值*/\n    if(!this._firstRun){\n      this._remeberAttrs(sprite);\n      this._animationPrepare(sprite);\n      this.firstFn();\n      this._iterationCount ++;\n      this._firstRun = true;\n    }\n    \n    /*行为逻辑*/\n    let repeatCount = Math.floor(time / this.duration);\n    if(repeatCount === this._iterationCount){\n      if(this._checkIterationCount(repeatCount)) {\n        this._iterationCount ++;\n        this._animationPrepare(sprite);\n      }\n      (this.fillMode !== 'forward') && this._remeberAttrs(sprite, true);\n    }\n    if(this._checkIterationCount(repeatCount)){\n      time %= this.duration;\n      /*动画执行流程*/\n      if(this.animation){\n        let {_animaRuntime: runtime, animation} = this,\n            curFrame = runtime.framesTime[0];\n        if(time >= this._countFrameDuration(curFrame)){\n          let lastFrame = runtime.lastFrame = runtime.framesTime.shift();\n          curFrame = runtime.framesTime[0];\n          runtime.frameDuration = this._countFrameDuration(curFrame - lastFrame);\n          runtime.velocity = this._attrChangeInit(sprite, animation[curFrame], runtime.frameDuration);\n        }\n        //let animaTime = time - runtime.lastFrame;\n        if(this.timing && runtime.frameDuration){\n          let newTime = this._warpTime(time, runtime.frameDuration);\n          time = newTime[0];\n          fdelta = newTime[1];\n        }\n        \n      }\n      else if(this.timing && this.duration){\n        /*时间轴扭曲逻辑*/\n        let newTime = this._warpTime(time, this.duration);\n        time = newTime[0];\n        fdelta = newTime[1];\n      }\n      /*行为逻辑函数*/\n      this.executeFn(sprite, time, fdelta, data, context);\n    }\n    else{\n      isType(this.animateCallback, 'function') && this.animateCallback(sprite, context);\n      let behaviorIndex = sprite.behaviors.findIndex(item => (item._bid === this._bid));\n      sprite.behaviors.splice(behaviorIndex, 1); //行为执行完销毁自身W\n    }\n    \n  }\n  _countFrameDuration(percent) {\n    return percent * this.duration / 100;\n  }\n  _checkIterationCount(repeatCount) {\n    return this.iteration === 'infinite' ? true : (repeatCount < this.iteration);\n  }\n  /*重置行为动画运行数据*/\n  _animationPrepare(sprite) {\n    if(this.animation){\n      this._setAnimaData();\n      (!this.animation['0'] && !this.animation['100']) && (this.animation = {0: null, 100: this.animation}); //处理单层数据\n      let {animation, _animaRuntime} = this;\n      for(let i in animation){\n        (i === 0 && animation[0]) && this._spriteAttrSet(sprite, animation[0], true);\n        _animaRuntime['framesTime'].push(i); \n      }\n      _animaRuntime['framesTime'].sort((a, b)=>(a - b));\n    }\n  }\n  /*重置行为动画运行数据*/\n  _setAnimaData() {\n    this._animaRuntime = this._animaInitProps();  //重置动画运行环境数据\n  }\n  /* 时间轴扭曲函数\n  * @param time 行为运行时间\n  */\n  _warpTime(time,duration){\n    let percent = time / duration;\n    let warpTime = this.timing(percent)/percent*time;\n    !this.lastTime && (this.lastTime = warpTime);\n    let warp_fdelta = warpTime - this.lastTime;\n    this.lastTime = warpTime;\n    this.orgTime = [warpTime,warp_fdelta];\n    return this.orgTime;\n  }\n  /*属性变换初始化函数*/\n  _attrChangeInit(sprite, animaArgs, duration){\n    let animaVel = {};\n    for(let i in animaArgs){\n      let arg = animaArgs[i],\n          relativeVal = 0;\n      if(typeof arg === 'string'){\n        relativeVal = this._handleRelativeValue(arg);\n      }\n      else{\n        relativeVal = arg - sprite[i];\n      }\n      animaVel[i] = relativeVal / duration;\n    }\n    return animaVel;\n  }\n  \n  /*属性变换函数*/\n  _attrChange(sprite, time, fdelta, data, context){\n    let { velocity } = this._animaRuntime;\n    for(let i in velocity){\n      sprite[i] += velocity[i] * fdelta;\n    }\n  }\n  /*属性设置函数*/\n  _spriteAttrSet(sprite, attrs, checkRel){\n    for(let i in attrs){\n      sprite[i] = checkRel ? this._handleRelativeValue(attrs[i], sprite[i]) : attrs[i];\n    }\n  }\n  _handleRelativeValue(relVal, value){\n    let result = 0;\n    if(typeof relVal === 'string' && relVal.indexOf('=') > 0){\n      let relValArr = relVal.split('=');\n      switch(relValArr[0]){\n        case '+':\n          result = relValArr[1] - 0;\n          break;\n        case '-':\n          result = -relValArr[1];\n          break;\n      }\n    }\n    isNumeric(value) && (result += value);\n    return result;\n  }\n  /* 精灵属性记录/恢复函数 */\n  _remeberAttrs(sprite, restore){\n    if(Object.keys(sprite.behaviors).length === 1 && (this.iteration > 1 || this.iteration === 'infinite')){\n      let {_spriteAttrs, _animaProps: {velocity}} = this;\n      if(Object.keys(_spriteAttrs).length === 0 && !restore){\n        for(let i in velocity){\n          _spriteAttrs[i] = sprite[i];\n        }\n      }\n      if(restore && _spriteAttrs){\n        this._spriteAttrSet(sprite, _spriteAttrs);\n      }\n    }\n  }\n}","/*\n* 资源加载模块类，用于加载资源\n* \n*/\nexport default class MediaLoader {\n  constructor(){\n    this.imagesInfo = this._mediaInfoObj();\n    this.images = {};\n    this.audiosInfo = this._mediaInfoObj();\n    this.audios = {};\n  }\n  _mediaInfoObj(){\n    return {\n      total : {s:0, f:0, t:0},\n      queue : {s:0, f:0, t:0},\n      urls : []\n    };\n  }\n  /*加载资源*/\n  loadingMedia(mediaObj, callback) {\n    this.loadingImages(mediaObj.images || {}, callback, true);\n    this.loadingAudios(mediaObj.audios || {}, callback, true);\n    return this;\n  }\n  loadingMediaList(type, mediaList={},callback=null,checkall = false){\n    let isArray = Array.isArray(mediaList) ? true : false;\n    let mediaInfo = this[type + 'Info'];\n    let loadingFn = null;\n    if(type === 'images') {\n      loadingFn = this.loadImage;\n    }\n    else if(type === 'audios') {\n      loadingFn = this.loadAudio;\n    }\n    if(mediaList && mediaInfo && loadingFn){\n      mediaInfo.queue = {s: 0, f: 0, t: 0};\n      for(let i in mediaList){\n        let key = isArray ? mediaList[i] : i;\n        loadingFn(key, mediaList[i], callback, checkall);\n      }\n    }\n    return this;\n  }\n  /*加载图片,返回对象实例*/\n  loadingImages(imageList={},callback=null,checkall = false){\n    return this.loadingMediaList('images', imageList, callback, checkall);\n  }\n  loadMedias(type, key, mediaUrl, callback, checkall){\n    let mediaInfo = this[type + 'Info'];\n    if(Array.indexOf(mediaInfo['urls'], mediaUrl) < 0){\n      mediaInfo.total.t++;\n      mediaInfo.queue.t++;\n      mediaInfo['urls'].push(mediaUrl);\n      let checkFn = checkall && this.getMediaProgress;\n      let mediaEle = null;\n      let loadEventName = 'load';\n      let loadedFn = () => {\n        mediaInfo.total.s++;\n        mediaInfo.queue.s++;\n        if(checkFn()[2] == 100){\n          callback();\n        }\n      };\n      let errorFn = () => {\n        mediaInfo.total.f++;\n        mediaInfo.queue.f++;\n        if(checkFn()[2] == 100){\n          callback();\n        }\n      }\n      if(type === 'images') {\n        mediaEle = new Image();\n        !checkall && (checkFn = this.getImageProgress);\n      }\n      else if(type === 'audios') {\n        mediaEle = new Audio();\n        !checkall && (checkFn = this.getAudioProgress);\n        loadEventName = 'loadedmetadata';\n      }\n      if(mediaEle) {\n        mediaEle.addEventListener(loadEventName,loadedFn);\n        mediaEle.addEventListener('error',errorFn)\n        mediaEle.src = mediaUrl;\n        this[type][key] = mediaEle;\n      }\n      \n    }\n  }\n  loadImage = (key, imgUrl, callback, checkall) =>{\n    this.loadMedias('images', key, imgUrl, callback, checkall)\n  }\n  /*获取图片加载进度，输出为[加载数，总数，百分比]的数组格式*/\n  getImageProgress = () => {\n    return this.getProgress('images');\n  }\n  /*加载音频资源,返回对象实例*/\n  loadingAudios(audioList={}, callback=null, checkall = false){\n    return this.loadingMediaList('audios', audioList, callback, checkall);\n  }\n  loadAudio = (key, audioUrl, callback, checkall) => {\n    this.loadMedias('audios', key, audioUrl, callback, checkall)\n  }\n  getAudioProgress = () => {\n    return this.getProgress('audios');\n  }\n  getProgress(type){\n    let { queue } = this[type + 'Info'],\n        loaded = queue.s + queue.f,\n        percent = Math.round(loaded / queue.t * 100);\n    return [loaded,queue.t,percent];\n  }\n  /*获取总资源加载进度*/\n  getMediaProgress = () => {\n    let images = this.imagesInfo.queue,\n        audios = this.audiosInfo.queue,\n        loaded = audios.s + audios.f + images.s + images.f,\n        total = audios.t + images.t,\n        percent = Math.round(loaded / total * 100);\n    return [loaded,total,percent];\n  }\n  \n}","import {Event, Stage, Sprite, Painter, ImagePainter, SheetPainter, Behavior, AnimationTimer, MediaLoader} from './core';\nimport {isType, isNumeric, objKeySort, errWarn} from './utils';\n\nconst EventNames = Object.keys(Event.eventMap);\n\nexport default class Anicanvas {\n  _RAF = 0;\n  _stages = [];\n  $stages = {};\n  $stage = null;\n  $layers = {};\n  $media = new MediaLoader();\n  constructor(elem, opts) {\n    this._elem = this.elemInit(elem);\n    this._options = Object.assign({}, opts);\n    this._aniTimer = new AnimationTimer(this.animation);\n    this.stageInit();\n  }\n  elemInit(elem) {\n    return isType(elem, 'string') ? document.querySelector(elem) : null;\n  }\n  get $elemSize(){\n    let {width, height} = this._options\n    return {width, height};\n  }\n  stageInit() {\n    if(this._elem){\n      this.eventListening();\n      let {width, height} = this._options;\n      this.createStage('MAIN', {width, height, zIndex: 1000});\n      this.$stage = this.$stages.MAIN;\n    }\n    else {\n      errWarn('no accessable root element!');\n    }\n  }\n  eventListening(){\n    EventNames.forEach(item => {\n      this._elem.addEventListener(item, this.eventHandle);\n    })\n  }\n  eventHandle = (event) =>{\n    let spriteEvents = Event.eventMap[event.type]\n    if(spriteEvents){\n      let {_stages} = this;\n      // search the target sprite\n      Event.eventCapture(_stages, event);\n      // bubbling and get all callbacks those need to be excute;\n      let fnQueue = Event.eventBubbling(event, spriteEvents);\n      fnQueue.forEach(item => item());\n    }\n  }\n  \n  createStage(name, options){\n    if(isType(name, 'string') && !this.$stages[name]){\n      let {width, height} = this._options;\n      !options.width && (options.width = width);\n      !options.height && (options.height = height);\n      let stage = new Stage(name, options);\n      this.$stages[name] = stage;\n      this._stages.push(stage);\n      objKeySort(this._stages, 'zIndex');\n      this._elem.appendChild(stage.$canvas);\n    }\n  }\n  animation = (elapsed, fdelta) => {\n    this._stages.forEach(stage => (stage.update(elapsed, fdelta)));\n  }\n  start(){\n    this._aniTimer.start();\n  }\n  play(){\n    this._aniTimer.play();\n  }\n  pause() {\n    this._aniTimer.pause();\n  }\n  stop() {\n    this._aniTimer.stop();\n  }\n  get frameRate(){\n    return this._aniTimer.frameRate;\n  }\n  setCanvasSize() {\n    let {width, height} = this._options;\n    if(isNumeric(width) && isNumeric(height)) {\n      Object.assign(this.canvas, {width, height});\n    }\n  }\n  loadingMedia(mediaMap, callback) {\n    if(mediaMap.images || mediaMap.audios){\n      this.$media.loadingMedia(mediaMap, callback);\n    }\n  }\n  createPainter(type, ...options){\n    switch(type) {\n      case 'image':\n        return new ImagePainter([...options]);\n        break;\n      case 'sheet':\n        return new SheetPainter([...options]);\n        break;\n      default:\n        return new Painter(type);\n        break;\n    }\n  }\n  append = (...child) => {\n    child.forEach(item => {\n      !this.$layers[item.name] && (this.$layers[item.name] = item);\n    });\n    this.$stage.append(...child);\n  }  \n\n  resize(size) {\n    isType(size, 'object') && Object.assign(this._elem, size);\n  }\n\n  \n  static Sprite = Sprite;\n  static Painter = Painter;\n  static ImagePainter = ImagePainter;\n  static SheetPainter = SheetPainter;\n  static Behavior = Behavior;\n}"],"names":["createHtmlElement","tag","attrs","styles","elem","document","createElement","isType","Object","assign","style","objectFilter","obj","keys","def","result","forEach","hasOwnProperty","item","undefined","value","type","prototype","toString","call","toLowerCase","isNumeric","isNaN","parseFloat","jsonEqual","obj1","obj2","JSON","stringify","getUniqueTime","Math","floor","Date","random","objKeySort","obj_arr","key","desc","sort","a","b","deg2rad","deg","PI","errWarn","error","console","log","Event","_isBindEvent","eventName","childNames","listener","Array","isArray","eventMap","_id","self","children","callbacks","_cbid","cbself","find","push","cbchild","cbindex","findIndex","splice","cbarr","length","citem","stages","event","i","_stage","context","_ctx","searchTargetSprite","sprite","data","x","offsetX","y","offsetY","childLen","isPointInpath","targetSprite","spriteEvents","name","$parent","fnQueue","runtimeBinding","parentSprite","spriteEvent","fns","map","bind","click","mouseenter","mouseover","mousemove","mousedown","mouseup","Media","play","pause","relevantProps","top","left","width","height","velocityX","velocityY","rotateVelocity","rotate","opacity","visible","animating","zindex","destroy","rotatePoint","Sprite","args","painter","behaviors","_startTime","_autoRP","needUpdate","$data","$media","positon","_path","isPointInPath","pleft","ptop","_painter","injectRelevantProps","initArgs","needAutoRP","_spriteRP","oldValue","_this","defineProperty","enumerable","configurable","get","set","newValue","_checkAutoRp","_autoRotatePoint","auto","indexOf","point","fn","time","fdelta","paint","save","translate","restore","_runBehaviors","index","arr","update","isStatic","child","_behaviorsSigned","_bid","behavior","delay","execute","BaseLayer","clearRect","Stage","options","_playing","elapsed","append","$canvas","elemInit","resetOptions","stageInit","$layers","fresh","_options","zIndex","position","canvasEle","id","getContext","setCanvasSize","Painter","image","paint_queue","photo","add_fn","queue","globalAlpha","getImageData","putImageData","ImagePainter","img","imgSet","w","h","spriteCopy","_setSelfStyles","runQueue","drawImage","SheetPainter","cells","interval","autoruning","iteration","reverse","cell_index","running","frame_point","timeline","parseInt","_countFramePoint","Number","isInteger","next_index","_sValue","frame_index","advance","cell","sheet_img","sv","sl","st","sw","sh","cell_val","sprite_val","isFinite","AnimationTimer","animation","_animation","startTime","lastTime","frameRate","_lastFRupdate","_animHandle","round","updateFrameRate","window","requestAnimationFrame","cancelAnimationFrame","trueTime","percentComplete","duration","timeWrap","elapsedTime","timeWarp","warp_fn","percent","strength","percent_complete","pow","sin","passes","def_opts","elastic_passes","cos","bounces","elastic","Behavior","defArgs","firstFn","timing","fillMode","executeFn","_attrChange","timingArgs","_firstRun","_iterationCount","_spriteAttrs","_animaProps","_animaInitProps","_animaRuntime","velocity","lastFrame","frameDuration","framesTime","_remeberAttrs","_animationPrepare","repeatCount","_checkIterationCount","runtime","curFrame","_countFrameDuration","shift","_attrChangeInit","newTime","_warpTime","animateCallback","behaviorIndex","_setAnimaData","_spriteAttrSet","warpTime","warp_fdelta","orgTime","animaArgs","animaVel","arg","relativeVal","_handleRelativeValue","checkRel","relVal","relValArr","split","MediaLoader","loadImage","imgUrl","callback","checkall","loadMedias","getImageProgress","getProgress","loadAudio","audioUrl","getAudioProgress","getMediaProgress","images","imagesInfo","audios","audiosInfo","loaded","s","f","total","t","_mediaInfoObj","urls","mediaObj","loadingImages","loadingAudios","mediaList","mediaInfo","loadingFn","imageList","loadingMediaList","mediaUrl","checkFn","mediaEle","loadEventName","loadedFn","errorFn","Image","Audio","addEventListener","src","audioList","EventNames","Anicanvas","opts","_RAF","_stages","$stages","$stage","eventHandle","eventCapture","eventBubbling","stage","_elem","_aniTimer","querySelector","eventListening","createStage","MAIN","appendChild","start","stop","canvas","mediaMap","loadingMedia","size"],"mappings":"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"}